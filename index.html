<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Search with Filters</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Modern Search with Filters</h1>
    </header>
    <div id="search-container">
        <div id="search-bar">
            <input type="text" id="search-input" placeholder="Search">
            <button id="add-filter-button" onclick="addFilter()">Add Filter</button>
        </div>
    </div>
    <div id="active-filters">
        <h3>Active Filters:</h3>
        <ul id="active-filter-list"></ul>
    </div>

    <div id="content">
        <div class="column">
            <h2>10,000 Words Filter</h2>
            <hr>
            <ul id="myUL">
                <!-- Your list of unique items here -->
                <li>Once upon a time, in a faraway land, there lived a brave knight who embarked on a quest to rescue a captured princess.</li>
                <!-- Add more items here -->
            </ul>
        </div>
    </div>
    <script>
        var activeFilters = [];

        function addFilter() {
            var searchInput = document.getElementById("search-input").value;
            if (searchInput) {
                activeFilters.push(new RegExp(searchInput, 'i'));
                document.getElementById("active-filter-list").innerHTML += '<li>' + searchInput + ' <button onclick="removeFilter(' + (activeFilters.length - 1) + ')">Remove</button></li>';
                filter(); // Update the filter immediately
            }
        }

        function removeFilter(index) {
            activeFilters.splice(index, 1);
            updateActiveFilters();
            filter();
        }

        function updateActiveFilters() {
            var activeFilterList = document.getElementById("active-filter-list");
            activeFilterList.innerHTML = '';
            for (var i = 0; i < activeFilters.length; i++) {
                activeFilterList.innerHTML += '<li>' + activeFilters[i].source + ' <button onclick="removeFilter(' + i + ')">Remove</button></li>';
            }
        }

        function filter() {
            var input, ul, li, i, txtValue;
            input = document.getElementById('search-input');
            ul = document.getElementById("myUL");
            li = ul.getElementsByTagName('li');

            var primaryFilter = new RegExp(input.value, 'i');

            for (i = 0; i < li.length; i++) {
                txtValue = li[i].textContent || li[i].innerText;
                var isVisible = primaryFilter.test(txtValue);
                for (var j = 0; j < activeFilters.length; j++) {
                    if (!activeFilters[j].test(txtValue)) {
                        isVisible = false;
                        break;
                    }
                }
                li[i].style.display = isVisible ? "" : "none";
            }
        }

        // Initialize the filtering
        var searchInput = document.getElementById("search-input");
        searchInput.addEventListener('input', filter);
    </script>
</body>
</html>
